Code for the main logic of the project.

Will be merged with other components soon.